<head>
  <title>mass</title>
</head>

<body>
  <h1>mass</h1>

  {{>images}}
  {{> uploader}}

</body>

<template name="detector">
    <p>detector</p>
    <canvas id="detectorCanvas" style="width: 620px; height: 480px; float: left; border: solid 1px black;"></canvas>
</template>

<template name="uploader">
    <form name="uploadForm">
        <input id="fileInput" type="file" multiple="multiple">
    </form>
</template>


<template name="images">
    <div id="images">
        {{#each images}}
            {{>photoTile}}
        {{/each}}
    </div>
</template>


<template name="photoTile">
    <div class="photo_tile">
        <div>
            {{#if url store="thumbnail"}}
            {{! if we have a url to the thumbnail store we will display the image}}
                <img src="{{url store="thumbnail"}}" >
            {{else}}
            {{! Since we are do not have a url lets show a placeholder image}}
                <img src="/images/loading.gif">
                {{#unless isUploaded}}
                {{! If we haven't fully uploaded the file yet show the progress}}
                    <p class="uploadProgress">uploading..{{uploadProgress}}%</p>
                {{else}}
                {{!
                Since we have a fully uploaded file but the store hasn't finished
                processing yet, we will display a processing message.
                }}
                    <p class="uploadProgress">processing..</p>
                {{/unless}}
            {{/if}}
        </div>
    </div>
</template>
