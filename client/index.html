<head>
  <title>mass</title>
</head>

<body>
  {{> header}}
  {{> images}}
  {{> uploader}}

</body>

<template name="header">
    <nav class="navbar navbar-default">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand logo" href="#">
                    <img alt="mass" src="/images/placeholder.png">
                    <h1>mass</h1>
                </a>
            </div>
        </div>
        {{> loginButtons}}
    </nav>
</template>

<template name="detector">
    <p>detector</p>
    <canvas id="detectorCanvas"></canvas>
</template>

<template name="uploader">
    <form name="uploadForm">
        <input id="fileInput" type="file" multiple="multiple">
    </form>
</template>


<template name="images">
    <div id="images">
        {{#each images}}
            {{>photoTile}}
        {{/each}}
    </div>
</template>


<template name="photoTile">
    <div class="photo_tile">
        <div class="col-md-4">
        <div>
            {{#if url store="thumbnail"}}
            {{! if we have a url to the thumbnail store we will display the image}}
                <img src="{{url store="thumbnail"}}" >
            {{else}}
            {{! Since we are do not have a url lets show a placeholder image}}
                <img src="/images/loading.gif">
                {{#unless isUploaded}}
                {{! If we haven't fully uploaded the file yet show the progress}}
                    <p class="uploadProgress">uploading..{{uploadProgress}}%</p>
                {{else}}
                {{!
                Since we have a fully uploaded file but the store hasn't finished
                processing yet, we will display a processing message.
                }}
                    <p class="uploadProgress">processing..</p>
                {{/unless}}
            {{/if}}
        </div>
        </div>
    </div>
</template>
